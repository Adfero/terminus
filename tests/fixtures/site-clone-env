
-
    request:
        method: POST
        url: 'https://onebox/api/authorize'
        headers:
            Host: onebox
            Expect: null
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Content-type: application/json
        body: '{"email":"devuser@pantheon.io","password":"password1"}'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:25 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '182'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7e569d20-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Vary: Accept-Encoding
        body: '{"session":"74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09","expires_at":1440181585,"user_id":"74d3797f-5ff0-432a-8fb8-388fcdb170e0"}'
-
    request:
        method: GET
        url: 'https://onebox/api/users/74d3797f-5ff0-432a-8fb8-388fcdb170e0/sites'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:27 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '362'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7f4039d0-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"16a-d502204e"'
            Vary: Accept-Encoding
        body: '{"2ed8ec91-baff-4f57-9181-9fa3767bf331": {"information": {"created_by_user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "holder_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "name": "behat-test", "created": 1437762364, "holder_type": "user", "service_level": "free", "owner": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "preferred_zone": "onebox"}, "metadata": null}}'
-
    request:
        method: GET
        url: 'https://onebox/api/users/74d3797f-5ff0-432a-8fb8-388fcdb170e0/memberships/sites?limit=100'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:27 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7f7ea260-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"TvIn/HAJFLJvC2RuGYYFGA=="'
            Vary: Accept-Encoding
        body: '[{"archived": false, "invited_by_id": null, "role": "team_member", "id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "key": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "site_id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "site": {"created_by_user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "user_in_charge_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "product": null, "holder_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "name": "behat-test", "user_in_charge": {"profile": {"utm_campaign": "", "tracking_first_site_create": 1437161220, "lead_type": "", "firstname": "Devuser", "utm_term": "", "lastname": "Devuser", "pda_campaign": null, "modified": 1437160970, "utm_source": "", "utm_device": "", "job_function": null, "experiments": {"welcome_video": "shown"}, "utm_medium": "", "verify": "75ffe64b9cd9ddac8528ca605dcf1403", "maxdevsites": 2, "utm_content": "", "google_adwords_account_registered_sent": 1437600670, "organization": null, "web_services_business": null}, "id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "email": "devuser@pantheon.io"}, "created": 1437762364, "upstream_updates_by_environment": {"has_code": false}, "holder_type": "user", "service_level": "free", "owner": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "attributes": {"label": "behat-test"}, "holder": {"profile": {"utm_campaign": "", "tracking_first_site_create": 1437161220, "lead_type": "", "firstname": "Devuser", "utm_term": "", "lastname": "Devuser", "pda_campaign": null, "modified": 1437160970, "utm_source": "", "utm_device": "", "job_function": null, "experiments": {"welcome_video": "shown"}, "utm_medium": "", "verify": "75ffe64b9cd9ddac8528ca605dcf1403", "maxdevsites": 2, "utm_content": "", "google_adwords_account_registered_sent": 1437600670, "organization": null, "web_services_business": null}, "id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "email": "devuser@pantheon.io"}, "id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "preferred_zone": "onebox", "product_id": null}}]'
-
    request:
        method: GET
        url: 'https://onebox/api/users/74d3797f-5ff0-432a-8fb8-388fcdb170e0/memberships/organizations?limit=100'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:28 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7fbdce40-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"2-d4cbb29"'
            Vary: Accept-Encoding
        body: '[]'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/2ed8ec91-baff-4f57-9181-9fa3767bf331?site_state=true'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:28 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '1879'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 7ff0c520-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"6RDMJafuunFA7/pEeQf4Lg=="'
            Vary: Accept-Encoding
        body: '{"created": 1437762364, "created_by_user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "holder_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "holder_type": "user", "name": "behat-test", "owner": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "preferred_zone": "onebox", "service_level": "free", "label": "behat-test", "id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "holder": {"profile": {"utm_campaign": "", "tracking_first_site_create": 1437161220, "lead_type": "", "firstname": "Devuser", "utm_term": "", "lastname": "Devuser", "pda_campaign": null, "modified": 1437160970, "utm_source": "", "utm_device": "", "job_function": null, "experiments": {"welcome_video": "shown"}, "utm_medium": "", "verify": "75ffe64b9cd9ddac8528ca605dcf1403", "maxdevsites": 2, "utm_content": "", "google_adwords_account_registered_sent": 1437600670, "organization": null, "web_services_business": null}, "id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "email": "devuser@pantheon.io"}, "settings": {"allow_domains": false, "environment_styx_scheme": "https", "min_backups": 0, "owner": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "secure_runtime_access": false, "pingdom": 0, "created_by_user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "failover_appserver": 0, "cacheserver": 1, "drush_version": 5, "label": "behat-test", "appserver": 1, "allow_read_slaves": false, "indexserver": 1, "php_version": 53, "php_channel": "stable", "allow_cacheserver": false, "ssl_enabled": null, "service_level": "free", "dedicated_ip": null, "dbserver": 1, "max_num_cdes": 10, "allow_indexserver": false, "preferred_zone": "onebox", "pingdom_chance": 0, "holder_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "name": "behat-test", "created": 1437762364, "max_backups": 0, "holder_type": "user", "number_allow_domains": 0, "pingdom_manually_enabled": false}, "base_domain": null, "attributes": {"label": "behat-test"}, "add_ons": []}'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/2ed8ec91-baff-4f57-9181-9fa3767bf331/environments'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:29 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 80adfaa0-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"2e1-5152d115"'
            Vary: Accept-Encoding
        body: '{"live": {"environment_created": 1437762364, "dns_zone": "onebox.pantheon.io", "randseed": "0HI6966NNG2WC9WX36P4Z3FEFAKIR2D7", "lock": {"username": null, "password": null, "locked": false}, "styx_cluster": "styx-ben-onebox10.onebox.pantheon.io"}, "test": {"environment_created": 1437762364, "dns_zone": "onebox.pantheon.io", "randseed": "JYAWH31T6RZKSG75PAUW0ZRM0IXAGNQ6", "lock": {"username": null, "password": null, "locked": false}, "styx_cluster": "styx-ben-onebox10.onebox.pantheon.io"}, "dev": {"environment_created": 1437762364, "dns_zone": "onebox.pantheon.io", "randseed": "9U56A63TFE6MYN3594254AV5W07AMN2Z", "lock": {"username": null, "password": null, "locked": false}, "styx_cluster": "styx-ben-onebox10.onebox.pantheon.io"}}'
-
    request:
        method: POST
        url: 'https://onebox/api/sites/2ed8ec91-baff-4f57-9181-9fa3767bf331/environments/dev/files'
        headers:
            Host: onebox
            Expect: null
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
            Content-type: application/json
        body: '{"clone-from-environment":"test"}'
    response:
        status:
            http_version: '1.1'
            code: '202'
            message: Accepted
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:30 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 80f34100-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            x-pantheon-deprecated: 'Use clone_files workflow at /sites/*/environments/*/workflows'
            Vary: Accept-Encoding
        body: '{"environment_id": "dev", "user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "site_id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "trace_id": "80f34100-3231-11e5-b6a3-7fb233bbf6b7", "params": {"from_environment": "test"}, "task_ids": ["80f85cd0-3231-11e5-afd8-bc764e115846"], "role": "owner", "type": "clone_files", "id": "80f78530-3231-11e5-afd8-bc764e115846", "key": "1437760800", "waiting_for_task_id": "80f85cd0-3231-11e5-afd8-bc764e115846", "keep_forever": false, "phase": "created", "queued_time": null, "run_time": null, "created_at": 1437762390.31596, "reason": "", "environment": "dev", "final_task_id": null, "result": null, "total_time": null, "active_description": "Clone files to \"dev\"", "description": "Clone files to \"dev\"", "step": 1, "number_of_tasks": 1, "trace_log_url": "https://logs.onebox.getpantheon.com:9443//#/dashboard/file/Trace_Id.json?trace_id=80f34100-3231-11e5-b6a3-7fb233bbf6b7&from_iso_date=2015-07-24T18:21:30.315960Z&to_iso_date=now", "user": {"created_at": 1437160970, "email": "devuser@pantheon.io", "password": "SCRUBBED", "id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0"}, "user_email": "devuser@pantheon.io"}'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/2ed8ec91-baff-4f57-9181-9fa3767bf331/workflows/80f78530-3231-11e5-afd8-bc764e115846'
        headers:
            Host: onebox
            Accept: null
            User-Agent: 'Terminus/1.0.0 (php_version=5.5.24&script=boot-fs.php)'
            Cookie: 'X-Pantheon-Session=74d3797f-5ff0-432a-8fb8-388fcdb170e0:7e5bbab2-3231-11e5-a71f-bc764e115846:H0M9lZawOnibXv8pCUy09'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Fri, 24 Jul 2015 18:26:30 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 812f1180-3231-11e5-b6a3-7fb233bbf6b7
            X-Frame-Options: deny
            Access-Control-Allow-Origin: '*'
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            ETag: 'W/"S8471Vmv1cVdaQ07wCbwjw=="'
            Vary: Accept-Encoding
        body: '{"environment_id": "dev", "params": {"from_environment": "test"}, "role": "owner", "site_id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "started_at": 1437762390.34076, "task_ids": ["80f85cd0-3231-11e5-afd8-bc764e115846"], "trace_id": "80f34100-3231-11e5-b6a3-7fb233bbf6b7", "type": "clone_files", "user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "id": "80f78530-3231-11e5-afd8-bc764e115846", "key": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "waiting_for_task_id": "80f85cd0-3231-11e5-afd8-bc764e115846", "keep_forever": false, "phase": "started", "queued_time": null, "run_time": null, "created_at": 1437762390.31596, "reason": "", "environment": "dev", "final_task_id": null, "result": "succeeded", "total_time": null, "active_description": "Cloning files from \"test\" to \"dev\"", "description": "Clone files to \"dev\"", "step": 1, "number_of_tasks": 1, "trace_log_url": "https://logs.onebox.getpantheon.com:9443//#/dashboard/file/Trace_Id.json?trace_id=80f34100-3231-11e5-b6a3-7fb233bbf6b7&from_iso_date=2015-07-24T18:21:30.315960Z&to_iso_date=now", "user": {"created_at": 1437160970, "email": "devuser@pantheon.io", "password": "SCRUBBED", "id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0"}, "user_email": "devuser@pantheon.io", "waiting_for_task": {"build": {"url": "job/ellis_clone_files/156/", "number": 156, "phase": "STARTED", "estimated_duration": 700, "duration": 0, "full_url": "https://23.253.39.239:8090/jenkins/job/ellis_clone_files/156/"}, "environment": "dev", "fn_name": "queue_jenkins_task", "params": {"task_type": "ellis_clone_files", "job_id": "80f85cd0-3231-11e5-afd8-bc764e115846", "from_env": "test", "site": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "to_env": "dev", "host": "ellis.onebox.getpantheon.com"}, "queued_at": 1437762390.340859, "responses": [{"code": 302, "body": "Successfully queued ellis_clone_files"}], "site_id": "2ed8ec91-baff-4f57-9181-9fa3767bf331", "started_at": 1437762390.565892, "trace_id": "80f34100-3231-11e5-b6a3-7fb233bbf6b7", "user_id": "74d3797f-5ff0-432a-8fb8-388fcdb170e0", "workflow_id": "80f78530-3231-11e5-afd8-bc764e115846", "id": "80f85cd0-3231-11e5-afd8-bc764e115846", "key": "1437760800", "created_at": 1437762390.32148, "queued_time": 0.22503304481506348, "run_time": null, "phase": "started", "allow_concurrent": false, "result": null, "total_time": null, "internal_reason": "", "build_url": "https://23.253.39.239:8090/jenkins/job/ellis_clone_files/156/", "messages": {"2015-07-24T18:26:30.709966": {"message": "Successfully queued ellis_clone_files", "level": "INFO"}}, "reason": "", "trace_log_url": "https://logs.onebox.getpantheon.com:9443//#/dashboard/file/Trace_Id.json?trace_id=80f34100-3231-11e5-b6a3-7fb233bbf6b7&from_iso_date=2015-07-24T18:21:30.321480Z&to_iso_date=now", "type": "ellis_clone_files"}}'
